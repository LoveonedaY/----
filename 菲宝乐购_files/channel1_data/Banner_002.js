var Banner={playerPrefix:"ksd_bannner_player_",logPrefix:"ksd_bannner_log_",thirdLogPrefix:"ksd_bannner_thirdLog_",getContainerId:function(e){return"ksd_bannner_container_"+e},getImgId:function(e,t){return Banner.playerPrefix+e+t},getContainerObj:function(e){return document.getElementById(Banner.getContainerId(e))},tqw:function(){typeof bannerLoaded!="undefined"&&bannerLoaded()},init:function(e){var t=Banner.analysis(e),n=t.divId,r=e.lid,i=t.requestUrl,s="_"+Math.random().toString().replace(".",""),o=document.createElement("span");o.id=t.divId,document.body.appendChild(o);if(typeof n=="undefined")document.write("<span id='"+Banner.getContainerId(s)+"'></span>");else{var o=document.createElement("span");o.id=Banner.getContainerId(s),document.getElementById(n).appendChild(o)}var u=Banner.getContainerObj(s);s+="_"+r;var a=ItvUtil.cookis.get("fidbanner");a||(a=""),ItvUtil.load.js(u,[i,"&lid=",r,"&fid=",a,"&divid=",n,"&random=",s,"&objectName=oo",s,""].join(""),Banner.request,"oo"+s)},analysis:function(o){var divId="",requestUrl="";return eval("var p="+o.ps),p&&(divId=p.divId,requestUrl=p.requestUrl),{divId:divId,requestUrl:requestUrl}},request:function(objectName){var _divId=eval(objectName+".divid"),_random=eval(objectName+".random"),_width=eval(objectName+".width"),_height=eval(objectName+".height"),_lid=eval(objectName+".lid"),_aid=eval(objectName+".aid").split(","),_materialUrl=eval(objectName+".materialUrl").split(","),_length=eval(objectName+".length").split(","),_repeatCount=eval(objectName+".repeatCount").split(","),_clickUrl=eval(objectName+".clickUrl").split(","),_thirdUrl=eval(objectName+".thirdUrl").split(","),_logUrl=eval(objectName+".logUrl"),_defaultPicture=eval(objectName+".defaultPicture"),_toolTip=eval(objectName+".toolTip"),toolTip=_toolTip==undefined?"":_toolTip.split(","),_soundVolume=eval(objectName+".soundVolume"),_adcount=_aid.length;Banner.show({width:_width,height:_height,lid:_lid,aid:_aid,materialUrl:_materialUrl,length:_length,repeatCount:_repeatCount,clickUrl:_clickUrl,thirdUrl:_thirdUrl,logUrl:_logUrl,defaultPicture:_defaultPicture,adcount:_adcount,logged:0,divid:_divId,random:_random,toolTip:toolTip,soundVolume:parseFloat(_soundVolume)}),Banner.tqw()},show:function(e){var t=document.getElementById(e.divid);t&&(t.style.width=e.width+"px",t.style.height=e.height+"px");if(e.adcount==1&&e.aid[0]==""){var n=document.createElement("img");n.id=Banner.getImgId(-1,e.random),n.src=e.defaultPicture,n.style.width=e.width+"px",n.style.height=e.height+"px",t.appendChild(n);return}for(var r=0;r<e.adcount;r++){e.clickUrl[r]!=""&&(e.clickUrl[r]=e.clickUrl[r]+"&lid="+e.lid+"&aid="+e.aid[r]+"&type=3");var i=e.materialUrl[r];if(ItvUtil.string.endsWith(e.materialUrl[r],".swf")||ItvUtil.string.endsWith(e.materialUrl[r],".mp4")||ItvUtil.string.endsWith(e.materialUrl[r],".flv")||ItvUtil.string.endsWith(e.materialUrl[r],".f4v")){i=iTV_PlayerUrl;var s=document.createElement("div");s.id=Banner.getImgId(r,e.random),s.style.width=e.width+"px",s.style.height=e.height+"px",s.style.display="none",t.appendChild(s);var o=ItvUtil.flash.key("banner_",e.lid+"_"+r);ItvUtil.flash.add(o,{materialUrl:e.materialUrl[r],soundVolume:e.soundVolume}),ItvUtil.flash.swfObject(o,i,o,e.width,e.height,"10","#FFFFFF","true","true","exactFit","opaque","always",escape(e.clickUrl[r]),Banner.getImgId(r,e.random),"itv_adPlayerLoaded")}else{var u=document.createElement("img");u.id=Banner.getImgId(r,e.random),u.src=e.materialUrl[r],u.style.width=e.width+"px",u.style.height=e.height+"px",u.style.display="none",u.style.border="0px";if(e.clickUrl[r]!=""){var a=document.createElement("a");a.target="_blank",a.title=e.toolTip[r],a.href=e.clickUrl[r],a.appendChild(u),t.appendChild(a)}else t.appendChild(u)}}Banner.showAd(0,e)},showAd:function(e,t){t.logged<t.adcount&&(ItvUtil.writeLog(e,t,document.getElementById(t.divid),Banner.logPrefix,t.random,Banner.thirdLogPrefix),ItvUtil.writeLocalLog(e,t,"banner"),t.logged++);for(var n=0;n<t.adcount;n++)n==e?document.getElementById(Banner.getImgId(n,t.random)).style.display="inline":document.getElementById(Banner.getImgId(n,t.random)).style.display="none";var r=e+1;r==t.adcount&&(r=0),setTimeout(function(){Banner.showAd(r,t)},t.length[e]*1e3)}}