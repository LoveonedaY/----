function soundVolume(e){return parseFloat(e)/100}function itv_adPlayerLoaded(e){if(document.getElementById(e)!=null){var t=document.getElementById(e),n=ItvUtil.flash.get(e);n&&(t.vPlay(n.materialUrl),t.setVolume(soundVolume(n.soundVolume)))}}var iTV_imgUrl=iTV_PlayerDomain+"images/",iTV_PlayerUrl=iTV_PlayerDomain+"player001.swf",iTV_PlayerPopUrl=iTV_PlayerDomain+"AdPlayerPop.swf";if(typeof deconcept=="undefined")var deconcept=new Object;typeof deconcept.util=="undefined"&&(deconcept.util=new Object),typeof deconcept.SWFObjectUtil=="undefined"&&(deconcept.SWFObjectUtil=new Object),deconcept.SWFObject=function(e,t,n,r,i,s,o,u,a,f){if(!document.getElementById)return;this.DETECT_KEY=f?f:"detectflash",this.skipDetect=deconcept.util.getRequestParameter(this.DETECT_KEY),this.params=new Object,this.variables=new Object,this.attributes=new Array,e&&this.setAttribute("swf",e),t&&this.setAttribute("id",t),n&&this.setAttribute("width",n),r&&this.setAttribute("height",r),i&&this.setAttribute("version",new deconcept.PlayerVersion(i.toString().split("."))),this.installedVer=deconcept.SWFObjectUtil.getPlayerVersion(),!window.opera&&document.all&&this.installedVer.major>7&&(deconcept.SWFObject.doPrepUnload=!0),s&&this.addParam("bgcolor",s);var l=o?o:"high";this.addParam("quality",l),this.setAttribute("useExpressInstall",!1),this.setAttribute("doExpressInstall",!1);var c=u?u:window.location;this.setAttribute("xiRedirectUrl",c),this.setAttribute("redirectUrl",""),a&&this.setAttribute("redirectUrl",a)},deconcept.SWFObject.prototype={useExpressInstall:function(e){this.xiSWFPath=e?e:"expressinstall.swf",this.setAttribute("useExpressInstall",!0)},setAttribute:function(e,t){this.attributes[e]=t},getAttribute:function(e){return this.attributes[e]},addParam:function(e,t){this.params[e]=t},getParams:function(){return this.params},addVariable:function(e,t){this.variables[e]=t},getVariable:function(e){return this.variables[e]},getVariables:function(){return this.variables},getVariablePairs:function(){var e=new Array,t,n=this.getVariables();for(t in n)e[e.length]=t+"="+n[t];return e},getSWFHTML:function(){var e="";if(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length){this.getAttribute("doExpressInstall")&&(this.addVariable("MMplayerType","PlugIn"),this.setAttribute("swf",this.xiSWFPath)),e='<embed type="application/x-shockwave-flash" src="'+this.getAttribute("swf")+'" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'" style="'+this.getAttribute("style")+'"',e+=' id="'+this.getAttribute("id")+'" name="'+this.getAttribute("id")+'" ';var t=this.getParams();for(var n in t)e+=[n]+'="'+t[n]+'" ';var r=this.getVariablePairs().join("&");r.length>0&&(e+='flashvars="'+r+'"'),e+="/>"}else{this.getAttribute("doExpressInstall")&&(this.addVariable("MMplayerType","ActiveX"),this.setAttribute("swf",this.xiSWFPath)),e='<object id="'+this.getAttribute("id")+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'" style="'+this.getAttribute("style")+'">',e+='<param name="movie" value="'+this.getAttribute("swf")+'" />';var i=this.getParams();for(var n in i)e+='<param name="'+n+'" value="'+i[n]+'" />';var s=this.getVariablePairs().join("&");s.length>0&&(e+='<param name="flashvars" value="'+s+'" />'),e+="</object>"}return e},write:function(e){if(this.getAttribute("useExpressInstall")){var t=new deconcept.PlayerVersion([6,0,65]);this.installedVer.versionIsValid(t)&&!this.installedVer.versionIsValid(this.getAttribute("version"))&&(this.setAttribute("doExpressInstall",!0),this.addVariable("MMredirectURL",escape(this.getAttribute("xiRedirectUrl"))),document.title=document.title.slice(0,47)+" - Flash Player Installation",this.addVariable("MMdoctitle",document.title))}if(this.skipDetect||this.getAttribute("doExpressInstall")||this.installedVer.versionIsValid(this.getAttribute("version"))){var n=typeof e=="string"?document.getElementById(e):e;return n.innerHTML=this.getSWFHTML(),!0}return this.getAttribute("redirectUrl")!=""&&document.location.replace(this.getAttribute("redirectUrl")),!1}},deconcept.SWFObjectUtil.getPlayerVersion=function(){var e=new deconcept.PlayerVersion([0,0,0]);if(navigator.plugins&&navigator.mimeTypes.length){var t=navigator.plugins["Shockwave Flash"];t&&t.description&&(e=new deconcept.PlayerVersion(t.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split(".")))}else if(navigator.userAgent&&navigator.userAgent.indexOf("Windows CE")>=0){var n=1,r=3;while(n)try{r++,n=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+r),e=new deconcept.PlayerVersion([r,0,0])}catch(i){n=null}}else{try{var n=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(i){try{var n=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");e=new deconcept.PlayerVersion([6,0,21]),n.AllowScriptAccess="always"}catch(i){if(e.major==6)return e}try{n=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(i){}}n!=null&&(e=new deconcept.PlayerVersion(n.GetVariable("$version").split(" ")[1].split(",")))}return e},deconcept.PlayerVersion=function(e){this.major=e[0]!=null?parseInt(e[0]):0,this.minor=e[1]!=null?parseInt(e[1]):0,this.rev=e[2]!=null?parseInt(e[2]):0},deconcept.PlayerVersion.prototype.versionIsValid=function(e){return this.major<e.major?!1:this.major>e.major?!0:this.minor<e.minor?!1:this.minor>e.minor?!0:this.rev<e.rev?!1:!0},deconcept.util={getRequestParameter:function(e){var t=document.location.search||document.location.hash;if(e==null)return t;if(t){var n=t.substring(1).split("&");for(var r=0;r<n.length;r++)if(n[r].substring(0,n[r].indexOf("="))==e)return n[r].substring(n[r].indexOf("=")+1)}return""}},deconcept.SWFObjectUtil.cleanupSWFs=function(){var e=document.getElementsByTagName("OBJECT");for(var t=e.length-1;t>=0;t--){e[t].style.display="none";for(var n in e[t])typeof e[t][n]=="function"&&(e[t][n]=function(){})}},deconcept.SWFObject.doPrepUnload&&(deconcept.unloadSet||(deconcept.SWFObjectUtil.prepUnload=function(){__flash_unloadHandler=function(){},__flash_savedUnloadHandler=function(){},window.attachEvent("onunload",deconcept.SWFObjectUtil.cleanupSWFs)},window.attachEvent("onbeforeunload",deconcept.SWFObjectUtil.prepUnload),deconcept.unloadSet=!0)),!document.getElementById&&document.all&&(document.getElementById=function(e){return document.all[e]});var getQueryParamValue=deconcept.util.getRequestParameter,FlashObject=deconcept.SWFObject,SWFObject=deconcept.SWFObject,global={$:function(e){return document.getElementById(e)},style:function(e){return document.all?e.currentStyle:document.defaultView.getComputedStyle(e,null)},scroll:function(){return{width:document.documentElement.scrollWidth||document.body.scrollWidth,height:document.documentElement.scrollHeight||document.body.scrollHeight,top:document.documentElement.scrollTop||document.body.scrollTop,left:document.documentElement.scrollLeft||document.body.scrollLeft}}},HashTable;typeof HashTable=="undefined"&&(HashTable={hash:new Object,add:function(e,t){return typeof e!="undefined"?this.contains(e)==0?(HashTable.hash[e]=typeof t=="undefined"?null:t,!0):!1:!1},remove:function(e){delete HashTable.hash[e]},count:function(){var e=0;for(var t in HashTable.hash)e++;return e},items:function(e){return HashTable.hash[e]},contains:function(e){return typeof HashTable.hash[e]!="undefined"},clear:function(){for(var e in HashTable.hash)delete HashTable.hash[e]}});var ItvUtil={string:{endsWith:function(e,t){var n=new RegExp(t+"$");return n.test(e)},startsWith:function(e,t){var n=new RegExp("^"+t);return n.test(e)},trim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"")}},cookis:{set:function(e,t){var n=new Date;n.setHours(23,59,59,999),n.setTime(n.getTime()),document.cookie=e+"="+t+";expires="+n.toGMTString()+";path=/"},get:function(e){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return t!=null?unescape(t[2]):null}},load:{js:function(context,jsUrl,action,objectName,appendobjectName){var script=document.createElement("script");script.type="text/javascript",script.src=jsUrl,context.appendChild(script),script.onload=script.onreadystatechange=function(){if(script&&script.readyState&&script.readyState!="loaded"&&script.readyState!="complete")return;script.onload=script.onreadystatechange=script.onerror=null;var a=eval(action);a&&(appendobjectName?a(objectName,appendobjectName):a(objectName))}}},flash:{swfObject:function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d){var v=new SWFObject(t,n,r,i,s,o);return u&&v.addParam("loop",u),a&&v.addParam("allowFullScreen",a),f&&v.addParam("scale",f),l&&v.addParam("wmode",l),c&&v.addParam("allowScriptAccess",c),d?v.addVariable("playerLoadedCallbackFunction",d):v.addVariable("playerLoadedCallbackFunction","itv_adPlayerLoaded"),h!=undefined&&h.length>0&&v.addVariable("linkUrl",h),e&&v.addVariable("lid",e),v.write(p),v},key:function(e,t){return[e,t].join("")},add:function(e,t){HashTable.contains(e)||HashTable.add(e,t)},get:function(e,t){var n=ItvUtil.flash.key(e,t);return HashTable.items(n)}},event:{addevent:function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n,!1)}},getBrowserType:function(){var e=navigator.userAgent.toLowerCase(),t={ie:/msie/.test(e)&&!/opera/.test(e),op:/opera/.test(e),sa:/version.*safari/.test(e),ch:/chrome/.test(e),ff:/gecko/.test(e)&&!/webkit/.test(e)};return t.ie?"ie":t.op?"opera":t.sa?"safari":t.ff?"ff":t.ch?"chrome":""},getIEVersion:function(){var e=navigator.userAgent,t=e.indexOf("MSIE ");return t<0?0:parseFloat(e.substring(t+5,e.indexOf(";",t)))},hasDOCTYPE:function(){return document.compatMode=="BackCompat"?!1:!0},className:function(e,t){document.all?e.className=t:e.setAttribute("class",t)},writeLog:function(e,t,n,r,i,s){try{var o=r+e+i,u=document.createElement("div");u.id=o,u.innerHTML="<img width='0px' height='0px' src='"+t.logUrl+"&lid="+t.lid+"&aid="+t.aid[e]+"&type=1&random="+i+"' style='display:none'></img>",n.appendChild(u);var a=s+e+i,f=document.createElement("div");f.style.display="none",f.id=a;if(ItvUtil.string.startsWith(t.thirdUrl[e].toLowerCase().trim(),"<scr")){var l=document.createElement("script");l.src=t.thirdUrl[e].match(/src\s*=\s*(\"([^\"]*)\"|\'([^\']*)\'|([^\s]*)[\s>])/i)[2].trim(),f.appendChild(l)}else f.innerHTML=t.thirdUrl[e];n.appendChild(f)}catch(c){}},writeLocalLog:function(e,t,n){var r=t.aid[e],i=t.repeatCount[e],s="",o=ItvUtil.cookis.get("aids"+n),u=ItvUtil.cookis.get("counts"+n),a=ItvUtil.cookis.get("maxes"+n),f=new Array,l=new Array,c=new Array;if(o!=null){f=o.split(","),l=u.split(","),c=a.split(",");var h=!1;for(var p=0;p<f.length;p++)if(f[p]==r){h=!0,l[p]=(parseInt(l[p])+1).toString(),u=l.join(","),c[p]=i,a=c.join(",");break}h||(o+=","+r,u+=",1",a+=","+i)}else o=r,u="1",a=i;a||(a=""),o!=undefined&&(f=o.split(",")),u!=undefined&&(l=u.split(",")),a!=undefined&&(c=a.split(","));for(var p=0;p<f.length;p++)parseInt(l[p])>=parseInt(c[p])&&(s+=","+f[p]);s!=""&&(s=s.substr(1,s.length)),ItvUtil.cookis.set("aids"+n,o),ItvUtil.cookis.set("counts"+n,u),ItvUtil.cookis.set("maxes"+n,a),ItvUtil.cookis.set("fid"+n,s)}},Enums={type:{banner:"banner",couplet:"couplet",pop:"pop",monitor:"monitor",marque:"marque",pip:"pip",latest:"Latest","float":"float",watch:"watch"},sp:{begin:"begin",end:"end"},position:{left:0,right:1,up:2,down:3}},ITVMain={id:0,params:{banner:{url:iTV_rootPath+"Banner.js",funcName:"Banner.init"},couplet:{url:iTV_rootPath+"Couplet.js",funcName:"Couplet.init"},pop:{url:iTV_rootPath+"Pop.js",funcName:"Pop.init"},monitor:{url:iTV_rootPath+"monitor.js",funcName:"Monitor.init"},marque:{url:iTV_rootPath+"Marque.js",funcName:"Marque.init"},pip:{url:iTV_rootPath+"Pip.js",funcName:"Pip.init"},latest:{url:iTV_rootPath+"Latest.js",funcName:"Latest.init"},"float":{url:iTV_rootPath+"Float.js",funcName:"Float.init"},watch:{url:iTV_rootPath+"Watch.js",funcName:"Watch.init"}},init:function(){var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++)if(scripts[i].id!=""){var o=ITVMain.getParameter(scripts[i].id);if(o){var key=o.type+"_"+o.lid;if(!HashTable.contains(key)){HashTable.add(key,o);var url=eval("ITVMain.params."+o.type+".url"),funcName=eval("ITVMain.params."+o.type+".funcName");ITVMain.loadJs(o.type,url,funcName,o)}}}},getParameter:function(e){var t=e.split("|");if(t.length<2)return null;var n="",r="",i="";for(var s=0;s<t.length;s++)switch(s){case 0:n=t[0];break;case 1:r=t[1];break;case 2:i=t[2]}return{type:n,lid:r,ps:i}},loadJs:function(e,t,n,r){ItvUtil.load.js(document.getElementsByTagName("head")[0],t,n,r)}};document.readyState=="complete"?ITVMain.init():ItvUtil.event.addevent(window,"load",function(){ITVMain.init()})